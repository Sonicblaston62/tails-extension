<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="SD246(4b3Z94Y)b2H/$A" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="YGlbuPNMcDSHPVjI8G0?" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace trailEffect {" line1="    //% blockId=trail_create block=&quot;create trail for %Follow=variables_get(mySprite) with image %Image2=screen_image_picker and speed %Speed&quot;" line2="    //% Speed.defl=100" line3="    //% group=&quot;Effects&quot;" line4="    export function createTrail(Follow: Sprite, Image2: Image, Speed: number) {" line5="        Follow.z = 100" line6="        let trailSprites: Sprite[] = []" line7="        let scaleFactor = -0.05" line8="" line9="        for (let i = 0; i &lt; 16; i++) {" line10="            let trail = sprites.create(Image2, SpriteKind.create())" line11="            trail.changeScale(scaleFactor * i, ScaleAnchor.Middle)" line12="            trail.z = 100 - (i + 1) * 5" line13="            trailSprites.push(trail)" line14="        }" line15="" line16="        // Set follow chain" line17="        trailSprites[0].follow(Follow, Speed)" line18="        for (let j = 1; j &lt; trailSprites.length; j++) {" line19="            trailSprites[j].follow(trailSprites[j - 1], Speed)" line20="        }" line21="" line22="        // Make all trail sprites ghost (no collisions)" line23="        for (let trail2 of trailSprites) {" line24="            trail2.setFlag(SpriteFlag.Ghost, true)" line25="        }" line26="    }" line27="}" numlines="28"></mutation></block></statement></block></xml>